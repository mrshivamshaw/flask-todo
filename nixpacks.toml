[phases.setup]
# Create and activate Python virtual environment
commands = [
    "python -m venv venv",
    "source venv/bin/activate",  # For Linux/Mac
    # Windows would use: "venv\\Scripts\\activate",
]

[phases.install]
# Install Python dependencies
commands = [
    "source venv/bin/activate && pip install --upgrade pip",
    "source venv/bin/activate && pip install Flask Flask-SQLAlchemy",
]

[phases.build]
# No additional build steps needed for basic Flask
commands = []

[start]
# Set environment variables and run Flask
command = "source venv/bin/activate && flask run --host=0.0.0.0 --port=$PORT"
env = [
    "FLASK_APP=app.py",
    "FLASK_ENV=production",
]

[build]
# Base image and Python version
baseImage = "python:3.9-slim"
